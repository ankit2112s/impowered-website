<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>imPowered</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

</head>
<body class="alert-secondary">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="/home">imPowered</a>
    </nav>
    <div id="heading">
        <hr class="border border-primary border-2 opacity-50">
        <h1 class=" text-dark text-center" id="EntityName"></h1>
        <hr class="border border-primary border-2 opacity-50">
        <br>
    </div>
    <div>
        <div class="row">
            <div class="col">
                <div class="card text-bg-info">
                    <div class="card-body">
                        <h5>About</h5>
                        <div id="About"></div>
                        <h5>Contact Details</h5>
                    <b>Email: </b><div id="Email"></div>
                <b>Phone No:</b><div id="Phone"></div>
                <b>Address:</b><div id="Address"></div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card text-bg-info">
                    <div class="card-body">
                        <h5>Features Available</h5>
                        <div id="Features"></div>
                    </div>
                </div>
            </div>
        </div>
        <br>
    </div>
    
</body>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script>
    async function loadDetails(){
        // console.log(document.URL);
        let DataBase=await axios.post("/info/:id",{});
        DataBase=DataBase.data;
        let url=document.URL.split('/');
        console.log(url);
        for(Entity of DataBase){
            if(Entity.Email==url[url.length-1]){
                document.getElementById("EntityName").innerHTML=Entity.Name;
                document.getElementById("About").innerHTML=Entity.About;
                document.getElementById("Email").innerHTML=Entity.Email;
                document.getElementById("Phone").innerHTML=Entity.PhoneNumber;
                document.getElementById("Address").innerHTML=Entity.Address;
                
                if(Entity.Ramps=="Yes"){
                    let data = document.createElement("div");
                    data.innerHTML="Ramps";
                    document.getElementById("Features").append(data);
                }
                if(Entity.RestRooms=="Yes"){
                    let data = document.createElement("div");
                    data.innerHTML="RestRooms";
                    document.getElementById("Features").append(data);
                }
                if(Entity.WheelChair=="Yes"){
                    let data = document.createElement("div");
                    data.innerHTML="Wheel Chair";
                    document.getElementById("Features").append(data);
                }
                if(Entity.AutomaticDoors=="Yes"){
                    let data = document.createElement("div");
                    data.innerHTML="Automatic Doors";
                    document.getElementById("Features").append(data);
                }
                if(Entity.Lift=="Yes"){
                    let data = document.createElement("div");
                    data.innerHTML="Lift";
                    document.getElementById("Features").append(data);
                }
                if(Entity.Helpers=="Yes"){
                    let data = document.createElement("div");
                    data.innerHTML="Helpers";
                    document.getElementById("Features").append(data);
                }
                if(Entity.AnnouncementSystem=="Yes"){
                    let data = document.createElement("div");
                    data.innerHTML="Announcement System";
                    document.getElementById("Features").append(data);
                }
                if(Entity.AccessibleToilets=="Yes"){
                    let data = document.createElement("div");
                    data.innerHTML="Accessible Toilets";
                    document.getElementById("Features").append(data);
                }
            }
            
        }
    }
    loadDetails();
</script>
</html>